apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.8.0
  creationTimestamp: null
  name: kyvernooperators.operator.kyverno.io
spec:
  group: operator.kyverno.io
  names:
    kind: KyvernoOperator
    listKind: KyvernoOperatorList
    plural: kyvernooperators
    singular: kyvernooperator
  scope: Namespaced
  versions:
  - name: v1
    schema:
      openAPIV3Schema:
        description: KyvernoOperator is the Schema for the kyvernooperators API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: KyvernoOperatorSpec defines the desired state of KyvernoOperator
            properties:
              enableAntiAffinity:
                description: Whether to enable pod anti affinity, true/false
                type: boolean
              image:
                description: Kyverno image
                type: string
              minNodes:
                description: Kyverno min nodes for HA mode
                type: integer
              minReplicas:
                description: Kyverno min replicas for HA mode
                type: integer
              pdbMaxUnavailable:
                description: Kyverno PDB min desired constraint
                type: integer
              pdbMinAvailable:
                description: Kyverno PDB min desired constraint
                type: integer
            type: object
          status:
            description: KyvernoOperatorStatus defines the observed state of KyvernoOperator
            properties:
              kyvernoState:
                description: Status record for Kyverno engine
                properties:
                  healthGapMsg:
                    description: Message corresponding to overall health Gap if overall status is not Healthy
                    type: string
                  isHA:
                    description: Is engine in HA? true/false
                    type: boolean
                  isProcessingPolicies:
                    description: Is engine processing policies? true/false
                    type: boolean
                  isRunning:
                    description: Is kyverno running? true/false
                    type: boolean
                  lastModifiedAt:
                    description: Time of engine state modification
                    format: date-time
                    type: string
                  overallHealth:
                    description: Overall engine health based on application of various criteria. Healthy/Degraded/Failed
                    type: string
                required:
                - isHA
                - isProcessingPolicies
                - isRunning
                type: object
              lastClusterRoleBindingModified:
                description: Particulars of most recent Kyverno cluster rolebinding modified. Interim field till kyverno watches policy changes
                properties:
                  modifiedBy:
                    description: User modifying it. Empty for now. Available after Kyverno watches modifications
                    type: string
                  namespace:
                    description: Kyverno engine resource namespace
                    type: string
                  operation:
                    description: Operation on resource Add, Modifiy, Delete
                    type: string
                  resourceName:
                    description: Kyverno engine resource name
                    type: string
                  resourceType:
                    description: Kyverno engine resource type. ClusterPolicy, Deployment, Service, etc.
                    type: string
                  resourceVersionCurr:
                    description: Resource version after change
                    type: string
                  resourceVersionPrev:
                    description: Resource version before change
                    type: string
                  timestamp:
                    description: Time of change
                    format: date-time
                    type: string
                type: object
              lastClusterRoleModified:
                description: Particulars of most recent kyverno cluster role modified. Interim field till kyverno watches policy changes
                properties:
                  modifiedBy:
                    description: User modifying it. Empty for now. Available after Kyverno watches modifications
                    type: string
                  namespace:
                    description: Kyverno engine resource namespace
                    type: string
                  operation:
                    description: Operation on resource Add, Modifiy, Delete
                    type: string
                  resourceName:
                    description: Kyverno engine resource name
                    type: string
                  resourceType:
                    description: Kyverno engine resource type. ClusterPolicy, Deployment, Service, etc.
                    type: string
                  resourceVersionCurr:
                    description: Resource version after change
                    type: string
                  resourceVersionPrev:
                    description: Resource version before change
                    type: string
                  timestamp:
                    description: Time of change
                    format: date-time
                    type: string
                type: object
              lastDeployModified:
                description: Particulars of most recent Kyverno deployment resource modified. Interim field till kyverno watches policy changes
                properties:
                  modifiedBy:
                    description: User modifying it. Empty for now. Available after Kyverno watches modifications
                    type: string
                  namespace:
                    description: Kyverno engine resource namespace
                    type: string
                  operation:
                    description: Operation on resource Add, Modifiy, Delete
                    type: string
                  resourceName:
                    description: Kyverno engine resource name
                    type: string
                  resourceType:
                    description: Kyverno engine resource type. ClusterPolicy, Deployment, Service, etc.
                    type: string
                  resourceVersionCurr:
                    description: Resource version after change
                    type: string
                  resourceVersionPrev:
                    description: Resource version before change
                    type: string
                  timestamp:
                    description: Time of change
                    format: date-time
                    type: string
                type: object
              lastPolicyModified:
                description: Particulars of most recent Kyverno policy modified. Interim field till kyverno watches policy changes
                properties:
                  modifiedBy:
                    description: User modifying it. Empty for now. Available after Kyverno watches modifications
                    type: string
                  namespace:
                    description: Kyverno engine resource namespace
                    type: string
                  operation:
                    description: Operation on resource Add, Modifiy, Delete
                    type: string
                  resourceName:
                    description: Kyverno engine resource name
                    type: string
                  resourceType:
                    description: Kyverno engine resource type. ClusterPolicy, Deployment, Service, etc.
                    type: string
                  resourceVersionCurr:
                    description: Resource version after change
                    type: string
                  resourceVersionPrev:
                    description: Resource version before change
                    type: string
                  timestamp:
                    description: Time of change
                    format: date-time
                    type: string
                type: object
              lastServiceModified:
                description: Particulars of most recent Kyverno service resource modified. Interim field till kyverno watches policy changes
                properties:
                  modifiedBy:
                    description: User modifying it. Empty for now. Available after Kyverno watches modifications
                    type: string
                  namespace:
                    description: Kyverno engine resource namespace
                    type: string
                  operation:
                    description: Operation on resource Add, Modifiy, Delete
                    type: string
                  resourceName:
                    description: Kyverno engine resource name
                    type: string
                  resourceType:
                    description: Kyverno engine resource type. ClusterPolicy, Deployment, Service, etc.
                    type: string
                  resourceVersionCurr:
                    description: Resource version after change
                    type: string
                  resourceVersionPrev:
                    description: Resource version before change
                    type: string
                  timestamp:
                    description: Time of change
                    format: date-time
                    type: string
                type: object
            required:
            - kyvernoState
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
